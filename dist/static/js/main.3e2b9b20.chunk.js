(this.webpackJsonprogue=this.webpackJsonprogue||[]).push([[0],{1544:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(48),i=a.n(l),s=(a(289),a(6)),c=a(58),o=a(7),d=Object(o.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return n.a.createElement("ul",{className:"right"},n.a.createElement("li",null,n.a.createElement("a",{onClick:e.signOut},"Log Out")),n.a.createElement("li",null,n.a.createElement(s.c,{to:"/client",className:"btn "},e.profile.initials)))})),m=function(){return n.a.createElement("ul",{className:"right"},n.a.createElement("li",null,n.a.createElement(s.c,{to:"/signup"},"Sign Up")),n.a.createElement("li",null,n.a.createElement(s.c,{to:"/signin"},"Log In")))},u=Object(o.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=e.profile,r=t.uid?n.a.createElement(d,{profile:a}):n.a.createElement(m,null);return n.a.createElement("nav",{className:"nav-extended",style:{padding:"35px",background:"linear-gradient(-90deg, teal, white)",minWidth:999}},n.a.createElement("div",{className:"nav-wrapper"},n.a.createElement(s.b,{to:"/client",className:"brand-logo",style:{color:"#00695c"}},n.a.createElement("img",{src:"https://static1.squarespace.com/static/5c1e749eaf20965d2a57556a/t/5c1e83714fa51a05053da701/1580156414739/?format=1500w",width:"80",height:"80"}),"GR Design Admin Portal"),n.a.createElement("div",{className:"container"},t.isLoaded&&r)))})),h=a(9),p=a(10),E=a(11),f=a(12),b=a(13),g=a(18),C=a(15),v=a(31),y=a.n(v),N=a(41),j=a(77),O=a(1548),k=(a(168),function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={selectedClientId:"",selectedClientFirstName:"",selectedClientLastName:"",selected:-1,searching:"",result:a.props.clients},a.handleSearchChange=function(e){var t=[],r=a.props.clients;a.setState({searching:e.target.value}),r.length>1&&(r.forEach((function(a){(a.firstName.includes(e.target.value)||a.lastName.includes(e.target.value)||a.username.includes(e.target.value)||a.email.includes(e.target.value))&&t.push(a)})),a.setState({result:t}))},a.handleCreate=function(){a.props.history.push("/createclient")},a.handleDelete=function(){var e=y.a.firestore();a.state.selectedClientId?window.confirm("Are you sure you wish to delete the following client?   "+a.state.selectedClientFirstName+" "+a.state.selectedClientLastName)&&(e.collection("clients").doc(a.state.selectedClientId).delete(),a.setState({selectedClientId:"",selectedClientFirstName:"",selectedClientLastName:"",selected:-1})):alert("Select at least one client by checking the box to delete!")},a.handleEdit=function(){if(a.state.selectedClientId){var e={pathname:"/editclient/"+a.state.selectedClientId};a.props.history.push(e)}else alert("Select at least one client by checking the box to edit!")},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=[{id:"col1",Header:"Name",accessor:function(e){return e.firstName+" "+e.lastName}},{id:"col2",Header:"Role",width:100,accessor:"role"},{id:"col3",Header:"email",accessor:"email"},{id:"col4",Header:"Phone No.",accessor:"primaryContact"},{id:"col5",Header:"Add. Contact",accessor:"secondaryContact"},{id:"col6",Header:"",width:100,Cell:function(e){return n.a.createElement("div",null,n.a.createElement(s.b,{to:"/client/"+e.original.id+"/projects/"},n.a.createElement(O.a,{animated:!0,style:{backgroundColor:"#fafafa"}},n.a.createElement(O.a.Content,{visible:!0},"Projects"),n.a.createElement(O.a.Content,{hidden:!0},n.a.createElement(j.a,{name:"arrow right"})))))}}],a=this.props;a.clients;return a.auth.uid?n.a.createElement("div",{className:"dashboard container",style:{paddingTop:50,minWidth:1e3,minHeight:1200}},n.a.createElement("nav",{className:"nav-extended grey lighten-1",style:{background:"linear-gradient(-90deg, #424242, #9e9e9e)"}},n.a.createElement("div",{className:"col grey",style:{paddingLeft:10,background:"linear-gradient(-90deg, #424242, #9e9e9e)"}},n.a.createElement("a",{href:"#!",className:"breadcrumb"},"Clients")),n.a.createElement("div",{className:"nav-wrapper"},n.a.createElement("ul",{style:{paddingLeft:10}},n.a.createElement("li",null,n.a.createElement(O.a,{color:"green",onClick:this.handleCreate},n.a.createElement(j.a,{name:"add",size:"small"}),"Create")),n.a.createElement("li",null,-1===this.state.selected?n.a.createElement(O.a,{disabled:!0},n.a.createElement(j.a,{name:"delete",size:"small"}),"Delete"):n.a.createElement(O.a,{color:"red",onClick:this.handleDelete},n.a.createElement(j.a,{name:"delete",size:"small"}),"Delete")),n.a.createElement("li",null,-1===this.state.selected?n.a.createElement(O.a,{disabled:!0},n.a.createElement(j.a,{name:"edit",size:"small"}),"Edit"):n.a.createElement(O.a,{color:"blue",onClick:this.handleEdit},n.a.createElement(j.a,{name:"edit",size:"small"}),"Edit")),n.a.createElement("li",{className:"right",style:{paddingRight:20}},this.props.clients&&this.props.clients.length>0?n.a.createElement("input",{style:{background:"white",paddingLeft:10},type:"text",id:"searchbar",placeholder:"search...",onChange:function(t){e.handleSearchChange(t)}}):n.a.createElement("p",null,"Create a Client to search"))))),n.a.createElement(N.a,{data:this.state.searching?this.state.result:this.props.clients,columns:t,defaultPageSize:10,className:"-striped -highlight",getTdProps:function(t,a,r,n){return"undefined"!==typeof a?{onClick:function(t,r){-1===e.state.selected||-1!==e.state.selected&&e.state.selectedClientId!==a.original.id?e.setState({selectedClientId:a.original.id,selectedClientFirstName:a.original.firstName,selectedClientLastName:a.original.lastName,selected:a.index}):e.setState({selectedClientId:"",selectedClientFirstName:"",selectedClientLastName:"",selected:-1}),r&&r()},style:{background:a.index===e.state.selected?"#b2dfdb":"",color:a.index===e.state.selected?"white":"black"}}:{onClick:function(t,a){e.setState({selectedClientId:"",selectedClientFirstName:"",selectedClientLastName:"",selected:-1}),a&&a()},style:{background:"white",color:"black"}}}})):n.a.createElement(c.a,{to:"/signin"})}}]),t}(r.Component)),S=Object(C.d)(Object(o.b)((function(e){return{clients:e.firestore.ordered.clients,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"clients",orderBy:["createdAt","desc"]}]))(k),A=(a(1505),function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={selectedProjectId:"",selectedProjectTitle:"",selected:-1,searching:"",result:[]},a.handleSearchChange=function(e){var t=[],r=a.props.projects,n=a.getCurrentClient();if(a.setState({searching:e.target.value}),r){var l=r.filter((function(e){return e.clientId===n.id}));l.length>1&&(l.forEach((function(a){a.title.includes(e.target.value)&&t.push(a)})),a.setState({result:t}))}},a.handleCreate=function(){var e=a.getCurrentClient();if(e){var t={pathname:"/"+a.props.match.params.id+"/createproject",clientfirstname:e.firstName,clientlastname:e.lastName};a.props.history.push(t)}},a.handleDelete=function(){var e=y.a.firestore();a.state.selectedProjectId?window.confirm("Are you sure you wish to delete the following projects?   "+a.state.selectedProjectTitle)&&(e.collection("projects").doc(a.state.selectedProjectId).delete(),a.setState({selectedProjectId:"",selectedProjectTitle:"",selected:-1})):alert("Select at least one project by checking the box to delete!")},a.handleEdit=function(){var e=a.getCurrentClient();if(e){var t={pathname:"/client/"+a.props.match.params.id+"/editproject/"+a.state.selectedProjectId,clientfirstname:e.firstName,clientlastname:e.lastName};a.props.history.push(t)}},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"getCurrentClient",value:function(){var e={},t=this.props.match.params.id;if(this.props.clients)return this.props.clients.forEach((function(a){a.id==t&&(e=a)})),e}},{key:"render",value:function(){var e=this,t=[{id:"col1",Header:"Title",accessor:"title"},{id:"col2",Header:"Status",width:100,accessor:"status"},{id:"col3",Header:"Address",accessor:function(e){return e.unitNumber+" "+e.streetAddress+", "+e.cityAddress+", "+e.stateAddress+" "+e.zipCode}},{id:"col4",Header:"",width:100,Cell:function(t){return n.a.createElement("div",null,n.a.createElement(s.b,{to:"/client/"+e.props.match.params.id+"/projects/"+t.original.id+"/"},n.a.createElement(O.a,{animated:!0,style:{backgroundColor:"#fafafa"}},n.a.createElement(O.a.Content,{visible:!0},"Details"),n.a.createElement(O.a.Content,{hidden:!0},n.a.createElement(j.a,{name:"arrow right"})))))}}],a=this.getCurrentClient(),r=this.props,l=r.projects,i=(r.auth,this.props.match.params.id);if(l)var c=l.filter((function(e){return e.clientId===i}));return n.a.createElement("div",{className:"dashboard container",style:{paddingTop:50,minWidth:1e3,minHeight:1200}},n.a.createElement("nav",{className:"nav-extended grey lighten-1",style:{background:"linear-gradient(-90deg, #424242, #9e9e9e)"}},n.a.createElement("div",{className:"col grey",style:{paddingLeft:10,background:"linear-gradient(-90deg, #424242, #9e9e9e)"}},n.a.createElement("a",{href:"/client",className:"breadcrumb"},"Clients"),n.a.createElement("a",{href:"#!",className:"breadcrumb"},a?a.firstName+" "+a.lastName+"'s Projects":n.a.createElement("div",{className:"progress"},n.a.createElement("div",{className:"indeterminate"})))),n.a.createElement("div",{className:"nav-wrapper"},n.a.createElement("ul",{style:{paddingLeft:10}},n.a.createElement("li",null,n.a.createElement(O.a,{color:"green",onClick:this.handleCreate},n.a.createElement(j.a,{name:"add",size:"small"}),"Create")),n.a.createElement("li",null,-1===this.state.selected?n.a.createElement(O.a,{disabled:!0},n.a.createElement(j.a,{name:"delete",size:"small"}),"Delete"):n.a.createElement(O.a,{color:"red",onClick:this.handleDelete},n.a.createElement(j.a,{name:"delete",size:"small"}),"Delete")),n.a.createElement("li",null,-1===this.state.selected?n.a.createElement(O.a,{disabled:!0},n.a.createElement(j.a,{name:"edit",size:"small"}),"Edit"):n.a.createElement(O.a,{color:"blue",onClick:this.handleEdit},n.a.createElement(j.a,{name:"edit",size:"small"}),"Edit")),n.a.createElement("li",{className:"right",style:{paddingRight:20}},this.props.projects&&this.props.projects.length>0?n.a.createElement("input",{style:{background:"white",paddingLeft:10},type:"text",id:"searchbar",placeholder:"search...",onChange:function(t){e.handleSearchChange(t)}}):n.a.createElement("p",null,"Create a Client to search"))))),n.a.createElement(N.a,{data:this.state.searching?this.state.result:c,columns:t,defaultPageSize:10,className:"-striped -highlight",getTdProps:function(t,a,r,n){return"undefined"!==typeof a?{onClick:function(t,r){-1===e.state.selected||-1!==e.state.selected&&e.state.selectedProjectId!==a.original.id?e.setState({selectedProjectId:a.original.id,selectedProjectTitle:a.original.title,selected:a.index}):e.setState({selectedProjectId:"",selectedProjectTitle:"",selected:-1}),r&&r()},style:{background:a.index===e.state.selected?"#b2dfdb":"",color:a.index===e.state.selected?"white":"black"}}:{onClick:function(t,a){e.setState({selectedProjectId:"",selectedProjectTitle:"",selected:-1}),a&&a()},style:{background:"white",color:"black"}}}}))}}]),t}(r.Component)),w=Object(C.d)(Object(o.b)((function(e){return{clients:e.firestore.ordered.clients,projects:e.firestore.ordered.projects,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"clients",orderBy:["createdAt","desc"]}]))(A),x=a(21),z=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?n.a.createElement(c.a,{to:"/client"}):n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},n.a.createElement("h5",{className:"grey-text"},"Sign In"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email"},"email"),n.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"password"},"password"),n.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn"},"Login")),n.a.createElement("div",{className:"red-text center"},t?n.a.createElement("p",null,t):null)))}}]),t}(r.Component),I=Object(o.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,r){(0,r.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(z),F=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?n.a.createElement(c.a,{to:"/"}):n.a.createElement("div",{className:"container"},n.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},n.a.createElement("h5",{className:"grey-text"},"Sign Up"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email"},"email"),n.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"password"},"password"),n.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"firstname"},"firstname"),n.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"lastname"},"lastname"),n.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn"},"Sign Up"),n.a.createElement("div",{className:"red-text center"},a?n.a.createElement("p",null,a):null))))}}]),t}(r.Component),P=Object(o.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,r){var n=r.getFirebase,l=r.getFirestore,i=n(),s=l();i.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return s.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(F),R=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={title:"",status:"",streetAddress:"",unitNumber:"",cityAddress:"",stateAddress:"",zipCode:"",titleError:"",statusError:"",streetAddressError:"",cityAddressError:"",stateAddressError:"",zipCodeError:"",clientId:a.props.match.params.id,clientFirstName:a.props.location.clientfirstname,clientLastName:a.props.location.clientlastname},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.validate=function(){var e="",t="",r="",n="",l="",i="";return a.state.title||(e="Title cannot be blank"),"choose"==a.state.status&&(t="must select status"),a.state.status||(t="must select status"),a.state.streetAddress||(r="Street Address cannot be blank"),a.state.cityAddress||(n="City cannot be blank"),a.state.stateAddress||(l="State cannot be blank"),a.state.zipCode||(i="zip code cannot be blank"),5!=a.state.zipCode.length&&(i="invalid zip code"),!(e||t||r||n||l||i)||(a.setState({titleError:e,statusError:t,streetAddressError:r,cityAddressError:n,stateAddressError:l,zipCodeError:i}),!1)},a.handleSubmit=function(e){if(e.preventDefault(),a.validate()){var t={pathname:"/client/"+a.props.match.params.id+"/projects"};a.props.createProject(a.state),a.props.history.push(t)}},a.handleCancel=function(e){e.preventDefault();var t={pathname:"/client/"+a.props.match.params.id+"/projects"};a.props.history.push(t)},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.auth.uid?n.a.createElement("div",{className:"container"},n.a.createElement("form",{className:"white"},n.a.createElement("h5",{className:"grey-text"},"Create Project"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"Title"),n.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange}),this.state.titleError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.titleError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("select",{className:"browser-default",id:"status",onChange:this.handleChange,defaultValue:"0"},n.a.createElement("option",{value:"0",disabled:!0},"Choose a Status"),n.a.createElement("option",{value:"Ongoing"},"Ongoing"),n.a.createElement("option",{value:"Completed"},"Completed")),this.state.statusError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.statusError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"Street address"),n.a.createElement("input",{type:"text",id:"streetAddress",onChange:this.handleChange}),this.state.streetAddressError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.streetAddressError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"Apartment/Unit No."),n.a.createElement("input",{type:"text",id:"unitNumber",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"City"),n.a.createElement("input",{type:"text",id:"cityAddress",onChange:this.handleChange}),this.state.cityAddressError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.cityAddressError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"State"),n.a.createElement("input",{type:"text",id:"stateAddress",onChange:this.handleChange}),this.state.stateAddressError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.stateAddressError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"ZIP code"),n.a.createElement("input",{type:"text",id:"zipCode",onChange:this.handleChange}),this.state.zipCodeError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.zipCodeError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Create")),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:this.handleCancel},"Cancel")))):n.a.createElement(c.a,{to:"/signin"})}}]),t}(r.Component),T=Object(o.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)(),l=a().firebase.profile,i=a().firebase.auth.uid;n.collection("projects").add({title:e.title,status:e.status,streetAddress:e.streetAddress,unitNumber:e.unitNumber,cityAddress:e.cityAddress,stateAddress:e.stateAddress,zipCode:e.zipCode,clientId:e.clientId,clientFirstName:e.clientFirstName,clientLastName:e.clientLastName,authorFirstName:l.firstName,authorLastName:l.lastName,authorID:i,createdAt:new Date}).then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",err:e})}))}}(t))}}}))(R),D=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={firstName:"",lastName:"",role:"",email:"",primaryContact:"",secondaryContact:"",username:"",firstNameError:"",lastNameError:"",roleError:"",emailError:"",primaryContactError:"",usernameError:""},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.id,e.target.value))},a.validate=function(){var e="",t="",r="",n="",l="",i="";return a.state.firstName||(e="Firstname cannot be blank"),a.state.lastName||(t="Lastname cannot be blank"),a.state.username||(i="username cannot be blank"),"choose"==a.state.role&&(n="must select role"),a.state.role||(n="must select role"),a.state.email.includes("@")||(r="invalid email"),a.state.email.includes(".")||(r="invalid email"),a.state.primaryContact||(l="primary contact cannot be blank"),!(r||e||t||n||l||i)||(a.setState({emailError:r,firstNameError:e,lastNameError:t,roleError:n,primaryContactError:l,usernameError:i}),!1)},a.handleSubmit=function(e){e.preventDefault(),a.validate()&&(a.props.createClient(a.state),a.props.history.push("/client"))},a.handleCancel=function(e){e.preventDefault(),a.props.history.push("/client")},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return this.props.auth.uid?n.a.createElement("div",{className:"container"},n.a.createElement("form",{className:"white"},n.a.createElement("h5",{className:"grey-text"},"Create Client"),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"First name"),n.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange}),this.state.firstNameError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.firstNameError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"Last name"),n.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange}),this.state.lastNameError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.lastNameError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"username"),n.a.createElement("input",{type:"text",id:"username",onChange:this.handleChange}),this.state.usernameError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.usernameError):null),n.a.createElement("div",null,n.a.createElement("select",{className:"browser-default",id:"role",onChange:this.handleChange,defaultValue:"choose"},n.a.createElement("option",{value:"choose",disabled:!0},"Choose a role"),n.a.createElement("option",{value:"engineer"},"Engineer"),n.a.createElement("option",{value:"manager"},"Manager")),this.state.roleError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.roleError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"email"},"email"),n.a.createElement("input",{type:"text",id:"email",onChange:this.handleChange}),this.state.emailError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.emailError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"Primary phone number"),n.a.createElement("input",{type:"text",id:"primaryContact",onChange:this.handleChange}),this.state.primaryContactError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.primaryContactError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("label",{htmlFor:"title"},"Secondary Contact"),n.a.createElement("input",{type:"text",id:"secondaryContact",onChange:this.handleChange})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Create")),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:this.handleCancel},"Cancel")))):n.a.createElement(c.a,{to:"/signin"})}}]),t}(r.Component),L=Object(o.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createClient:function(t){return e(function(e){return function(t,a,r){r.getFirebase;var n=(0,r.getFirestore)(),l=a().firebase.profile,i=a().firebase.auth.uid;n.collection("clients").add({email:e.email,firstName:e.firstName,lastName:e.lastName,primaryContact:e.primaryContact,secondaryContact:e.secondaryContact,role:e.role,username:e.username,authorFirstName:l.firstName,authorLastName:l.lastName,authorID:i,createdAt:new Date}).then((function(){t({type:"CREATE_CLIENT",client:e})})).catch((function(e){t({type:"CREATE_CLIENT_ERROR",err:e})}))}}(t))}}}))(D),_=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={firstName:"",lastName:"",role:"",email:"",primaryContact:"",secondaryContact:"",tempfirstName:"1",templastName:"1",temprole:"1",tempemail:"1",tempprimaryContact:"1",firstNameError:"",lastNameError:"",roleError:"",emailError:"",primaryContactError:""},a.handleChange=function(e){var t,r="temp"+e.target.id;a.setState((t={},Object(x.a)(t,e.target.id,e.target.value),Object(x.a)(t,r,""),t))},a.validate=function(){var e="",t="",r="",n="",l="";return a.state.firstName||a.state.tempfirstName||(e="Firstname cannot be blank"),a.state.lastName||a.state.templastName||(t="Lastname cannot be blank"),"choose"!=a.state.role||a.state.temprole||(n="must select role"),a.state.role||a.state.temprole||(n="must select role"),a.state.email.includes("@")||a.state.tempemail||(r="invalid email"),a.state.email.includes(".")||a.state.tempemail||(r="invalid email"),a.state.primaryContact||a.state.tempprimaryContact||(l="primary contact cannot be blank"),!(r||e||t||n||l)||(a.setState({emailError:r,firstNameError:e,lastNameError:t,roleError:n,primaryContactError:l}),!1)},a.handleSubmit=function(e){e.preventDefault(),a.validate()&&(a.props.editClient(a.state,a.props.match.params.id),a.props.history.push("/client"))},a.handleCancel=function(e){e.preventDefault(),a.props.history.push("/client")},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.auth.uid)return n.a.createElement(c.a,{to:"/signin"});var t={};return this.props.clients.forEach((function(a){a.id==e.props.match.params.id&&(t=a)})),n.a.createElement("div",{className:"container"},n.a.createElement("form",{className:"white"},n.a.createElement("h5",{className:"grey-text"},"Editing Client Info: ",t.firstName+" "+t.lastName),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{className:"grey-text"},"First name"),n.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange,defaultValue:t.firstName}),this.state.firstNameError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.firstNameError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{className:"grey-text"},"Last name"),n.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange,defaultValue:t.lastName}),this.state.lastNameError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.lastNameError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("select",{className:"browser-default",id:"role",onChange:this.handleChange,defaultValue:t.role},n.a.createElement("option",{value:"",disabled:!0},"Choose a role"),n.a.createElement("option",{value:"engineer"},"Engineer"),n.a.createElement("option",{value:"manager"},"Manager"),this.state.roleError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.roleError):null)),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{className:"grey-text"},"email"),n.a.createElement("input",{type:"text",id:"email",onChange:this.handleChange,defaultValue:t.email}),this.state.emailError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.emailError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{className:"grey-text"},"Primary phone number"),n.a.createElement("input",{type:"text",id:"primaryContact",onChange:this.handleChange,defaultValue:t.primaryContact}),this.state.primaryContactError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.primaryContactError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{className:"grey-text"},"Seconday Contact"),n.a.createElement("input",{type:"text",id:"secondaryContact",onChange:this.handleChange,defaultValue:t.secondaryContact})),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Edit")),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:this.handleCancel},"Cancel"))))}}]),t}(r.Component),H=Object(c.g)(Object(C.d)(Object(o.b)((function(e){return{clients:e.firestore.ordered.clients,auth:e.firebase.auth}}),(function(e){return{editClient:function(t,a){return e(function(e,t){return function(a,r,n){n.getFirebase;var l=(0,n.getFirestore)();console.log(e),e.firstName&&l.collection("clients").doc(t).update({firstName:e.firstName}),e.lastName&&l.collection("clients").doc(t).update({lastName:e.lastName}),e.role&&l.collection("clients").doc(t).update({role:e.role}),e.email&&l.collection("clients").doc(t).update({email:e.email}),e.primaryContact&&l.collection("clients").doc(t).update({primaryContact:e.primaryContact}),e.secondaryContact&&l.collection("clients").doc(t).update({secondaryContact:e.secondaryContact})}}(t,a))}}})),Object(g.firestoreConnect)([{collection:"clients",orderBy:["firstName","desc"]}]))(_)),U=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={title:"",status:"",streetAddress:"",unitNumber:"",cityAddress:"",stateAddress:"",zipCode:"",temptitle:"1",tempstatus:"1",tempstreetAddress:"1",tempcityAddress:"1",tempstateAddress:"1",tempzipCode:"1",titleError:"",statusError:"",streetAddressError:"",cityAddressError:"",stateAddressError:"",zipCodeError:"",cid:a.props.match.params.project_id},a.handleChange=function(e){var t,r="temp"+e.target.id;a.setState((t={},Object(x.a)(t,e.target.id,e.target.value),Object(x.a)(t,r,""),t))},a.validate=function(){var e="",t="",r="",n="",l="",i="";return a.state.title||a.state.temptitle||(e="Title cannot be blank"),"choose"!=a.state.status||a.state.tempstatus||(t="must select status"),a.state.status||a.state.tempstatus||(t="must select status"),a.state.streetAddress||a.state.tempstreetAddress||(r="Street Address cannot be blank"),a.state.cityAddress||a.state.tempcityAddress||(n="City cannot be blank"),a.state.stateAddress||a.state.tempstateAddress||(l="State cannot be blank"),a.state.zipCode||a.state.tempzipCode||(i="zip code cannot be blank"),5==a.state.zipCode.length||a.state.tempzipCode||(i="invalid zip code"),!(e||t||r||n||l||i)||(a.setState({titleError:e,statusError:t,streetAddressError:r,cityAddressError:n,stateAddressError:l,zipCodeError:i}),!1)},a.handleSubmit=function(e){if(e.preventDefault(),a.validate()){a.props.editProject(a.state,a.props.match.params.project_id);var t=a.props.match.params.client_id;a.props.history.push("/client/"+t+"/projects")}},a.handleCancel=function(e){e.preventDefault();var t=a.props.match.params.client_id;a.props.history.push("/client/"+t+"/projects")},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.auth.uid)return n.a.createElement(c.a,{to:"/signin"});var t={};return this.props.projects.forEach((function(a){a.id==e.props.match.params.project_id&&(t=a)})),n.a.createElement("div",{className:"container"},n.a.createElement("form",{className:"white"},n.a.createElement("h5",{className:"grey-text"},"Editing Project ",t.title),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{htmlFor:"title"},"Title"),n.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange,defaultValue:t.title}),this.state.titleError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.titleError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("select",{className:"browser-default",id:"status",onChange:this.handleChange,defaultValue:t.status},n.a.createElement("option",{value:"0",disabled:!0},"Choose a Status"),n.a.createElement("option",{value:"Ongoing"},"Ongoing"),n.a.createElement("option",{value:"Completed"},"Completed")),this.state.statusError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.statusError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{htmlFor:"title"},"Street address"),n.a.createElement("input",{type:"text",id:"streetAddress",onChange:this.handleChange,defaultValue:t.streetAddress}),this.state.streetAddressError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.streetAddressError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{htmlFor:"title"},"Apartment/Unit No."),n.a.createElement("input",{type:"text",id:"unitNumber",onChange:this.handleChange,defaultValue:t.unitNumber})),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{htmlFor:"title"},"City"),n.a.createElement("input",{type:"text",id:"cityAddress",onChange:this.handleChange,defaultValue:t.cityAddress}),this.state.cityAddressError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.cityAddressError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{htmlFor:"title"},"State"),n.a.createElement("input",{type:"text",id:"stateAddress",onChange:this.handleChange,defaultValue:t.stateAddress}),this.state.stateAddressError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.stateAddressError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("p",{htmlFor:"title"},"ZIP code"),n.a.createElement("input",{type:"text",id:"zipCode",onChange:this.handleChange,defaultValue:t.zipCode}),this.state.zipCodeError?n.a.createElement("div",{style:{fontSize:12,color:"red"}},this.state.zipCodeError):null),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:this.handleSubmit},"Edit")),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:this.handleCancel},"Cancel"))))}}]),t}(r.Component),V=Object(c.g)(Object(C.d)(Object(o.b)((function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth}}),(function(e){return{editProject:function(t,a){return e(function(e,t){return function(a,r,n){n.getFirebase;var l=(0,n.getFirestore)();console.log(e),e.title&&l.collection("projects").doc(t).update({title:e.title}),e.status&&l.collection("projects").doc(t).update({status:e.status}),e.streetAddress&&l.collection("projects").doc(t).update({streetAddress:e.streetAddress}),e.unitNumber&&l.collection("projects").doc(t).update({unitNumber:e.unitNumber}),e.cityAddress&&l.collection("projects").doc(t).update({cityAddress:e.cityAddress}),e.stateAddress&&l.collection("projects").doc(t).update({stateAddress:e.stateAddress}),e.zipCode&&l.collection("projects").doc(t).update({zipCode:e.zipCode})}}(t,a))}}})),Object(g.firestoreConnect)([{collection:"projects",orderBy:["title","desc"]}]))(U)),B=(a(169),function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"getCurrentDocuments",value:function(){var e=this,t=[];if(this.props.documents)return this.props.documents.forEach((function(a){a.projectID===e.props.match.params.project_id&&t.push(a)})),t}},{key:"render",value:function(){var e=this.getCurrentDocuments();return n.a.createElement("div",null,e&&e.map((function(e){return n.a.createElement("a",{href:e.link,key:e.id,style:{float:"left"}},n.a.createElement(j.a,{name:"folder",size:"huge"}),n.a.createElement("p",null,e.name))})))}}]),t}(r.Component)),G=Object(c.g)(Object(C.d)(Object(o.b)((function(e){return{documents:e.firestore.ordered.documents,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"documents"}]))(B)),W=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"getCurrentCalendar",value:function(){var e=this,t=[];if(this.props.calendar)return this.props.calendar.forEach((function(a){a.projectID===e.props.match.params.project_id&&t.push(a)})),t}},{key:"render",value:function(){var e=this.getCurrentCalendar();return n.a.createElement("div",null,e&&e.map((function(e){return n.a.createElement("a",{href:e.link,key:e.id,style:{float:"left"}},n.a.createElement(j.a,{name:"calendar alternate",size:"huge"}),n.a.createElement("p",null,e.name))})))}}]),t}(r.Component),J=Object(c.g)(Object(C.d)(Object(o.b)((function(e){return{calendar:e.firestore.ordered.calendar,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"calendar"}]))(W)),M=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"getCurrentInvoices",value:function(){var e=this,t=[];if(this.props.invoices)return this.props.invoices.forEach((function(a){a.projectID===e.props.match.params.project_id&&t.push(a)})),t}},{key:"render",value:function(){var e=this.getCurrentInvoices();return e&&e.length>0?n.a.createElement("table",{className:"highlight"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Invoice No."),n.a.createElement("th",null,"Title"),n.a.createElement("th",null,"Ordered By"),n.a.createElement("th",null,"Date Placed"))),n.a.createElement("tbody",null,e&&e.map((function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.invoiceNo),n.a.createElement("td",null,e.title),n.a.createElement("td",null,e.orderedBy),n.a.createElement("td",null,e.createdAt.toDate().toString().substr(4,12)))})))):n.a.createElement("div",{className:"progress"},n.a.createElement("div",{className:"indeterminate"}))}}]),t}(r.Component),K=Object(c.g)(Object(C.d)(Object(o.b)((function(e){return{invoices:e.firestore.ordered.invoices,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"invoices"}]))(M)),q=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"getCurrentTasks",value:function(){var e=this,t=[];if(this.props.tasks)return this.props.tasks.forEach((function(a){a.projectID===e.props.match.params.project_id&&t.push(a)})),t}},{key:"render",value:function(){console.log(this.props);var e=this.getCurrentTasks();return e&&e.length>0?n.a.createElement("table",{className:"highlight"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Title"),n.a.createElement("th",null,"Ordered By"),n.a.createElement("th",null,"Date Placed"))),n.a.createElement("tbody",null,e&&e.map((function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.title),n.a.createElement("td",null,e.orderedBy),n.a.createElement("td",null,e.createdAt.toDate().toString().substr(4,12)))})))):n.a.createElement("div",{className:"progress"},n.a.createElement("div",{className:"indeterminate"}))}}]),t}(r.Component),Z=Object(c.g)(Object(C.d)(Object(o.b)((function(e){return{tasks:e.firestore.ordered.tasks,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"tasks"}]))(q)),X=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={document:0,calendar:0,invoice:0,task:0},a.handleClickDocument=function(){a.setState({document:1,calendar:0,invoice:0,task:0})},a.handleClickCalendar=function(){a.setState({document:0,calendar:1,invoice:0,task:0})},a.handleClickInvoice=function(){a.setState({document:0,calendar:0,invoice:1,task:0})},a.handleClickTask=function(){a.setState({document:0,calendar:0,invoice:0,task:1})},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"getCurrentProject",value:function(){var e=this;if(this.props.projects)return this.props.projects.filter((function(t){return t.id===e.props.match.params.project_id}))[0]}},{key:"render",value:function(){var e=this.getCurrentProject();if(e){var t="/client/"+e.clientId+"/projects/"+e.id,a="/client/"+e.clientId+"/projects/";return n.a.createElement("div",{className:"dashboard container",style:{paddingTop:50,minWidth:1e3,minHeight:1200}},n.a.createElement("nav",{className:"nav-extended grey lighten-1",style:{background:"linear-gradient(-90deg, #424242, #9e9e9e)"}},n.a.createElement("div",{className:"col grey",style:{paddingLeft:10,background:"linear-gradient(-90deg, #424242, #9e9e9e)"}},n.a.createElement("a",{href:"/client",className:"breadcrumb"},"Clients"),n.a.createElement("a",{href:a,className:"breadcrumb"},e?e.clientFirstName+" "+e.clientLastName+"'s Projects":"loading client details..."),n.a.createElement("a",{href:"#!",className:"breadcrumb"},e?e.title+" Details":"loading client details...")),n.a.createElement("div",{className:"nav-wrapper"})),n.a.createElement("div",{style:{border:"0px solid black",minHeight:600}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s1",style:{borderLeft:"1px solid black",borderBottom:"1px solid black",borderTop:"1px solid black",minHeight:600}},n.a.createElement("button",{className:"row center",style:1===this.state.document?{border:"0px solid black",float:"right",backgroundColor:"white",minHeight:100}:{border:"0px solid black",float:"right",minHeight:100},onClick:this.handleClickDocument},n.a.createElement(s.b,{to:t+"/documents"},n.a.createElement(j.a,{name:"folder outline",size:"huge"}),n.a.createElement("p",null,"Documents"))),n.a.createElement("div",{className:"row center",style:1===this.state.calendar?{border:"0px solid black",float:"right",backgroundColor:"white",minHeight:100}:{border:"0px solid black",float:"right",minHeight:100},onClick:this.handleClickCalendar},n.a.createElement(s.b,{to:t+"/calendar"},n.a.createElement(j.a,{name:"calendar outline",size:"huge"}),n.a.createElement("p",null,"Calendar"))),n.a.createElement("div",{className:"row center",style:1===this.state.invoice?{border:"0px solid black",float:"right",backgroundColor:"white",minHeight:100}:{border:"0px solid black",float:"right",minHeight:100},onClick:this.handleClickInvoice},n.a.createElement(s.b,{to:t+"/invoices"},n.a.createElement(j.a,{name:"file alternate outline",size:"huge"}),n.a.createElement("p",null,"Invoices"))),n.a.createElement("div",{className:"row center",style:1===this.state.task?{border:"0px solid black",float:"right",backgroundColor:"white",minHeight:100}:{border:"0px solid black",float:"right",minHeight:100},onClick:this.handleClickTask},n.a.createElement(s.b,{to:t+"/tasks"},n.a.createElement(j.a,{name:"tasks",size:"huge"}),n.a.createElement("p",null,"Tasks")))),n.a.createElement("div",{className:"col s11",style:{border:"0px solid black",borderTop:"1px solid black",borderBottom:"1px solid black",borderRight:"1px solid black",minHeight:600,backgroundColor:"white"}},n.a.createElement("div",{className:"row",style:{border:"0px solid red"}},this.props.location.pathname.includes("documents")&&n.a.createElement(G,null)),this.props.location.pathname.includes("calendar")&&n.a.createElement(J,null),this.props.location.pathname.includes("invoices")&&n.a.createElement(K,null),this.props.location.pathname.includes("tasks")&&n.a.createElement(Z,null)))))}return n.a.createElement("div",{className:"progress"},n.a.createElement("div",{className:"indeterminate"}))}}]),t}(r.Component),Y=Object(c.g)(Object(C.d)(Object(o.b)((function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"projects",orderBy:["title"]}]))(X)),$=(a(1510),a(1511),function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(E.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={result:[]},a.handleResultSelect=function(e,t){var r=t.result;return a.setState({value:r.id})},a.getSource=function(){var e=[],t={};return a.props.clients&&a.props.clients.forEach((function(a){t.id=a.id,t.name=a.firstName+" "+a.lastName,t.username=a.username,e.push(t),t={}})),e},a.handleSearchChange=function(e){var t=[],r=a.props.clients;r.length>1&&(r.forEach((function(a){a.username.includes(e.target.value)&&t.push(a)})),a.setState({result:t}))},a.handleSearch=function(e){e.preventDefault(),console.log(e.target.value)},a.handleCreate=function(){a.props.history.push("/createclient")},a.handleView=function(){a.props.history.push("/client")},a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=[{id:"col1",Header:"Name",accessor:function(e){return e.firstName+" "+e.lastName}},{id:"col2",Header:"Role",width:100,accessor:"role"},{id:"col3",Header:"email",accessor:"email"},{id:"col4",Header:"Phone No.",accessor:"primaryContact"},{id:"col5",Header:"Add. Contact",accessor:"secondaryContact"},{id:"col6",Header:"Projects",width:75,Cell:function(e){return n.a.createElement("div",null,n.a.createElement(s.b,{to:"/client/"+e.original.id+"/projects/"},n.a.createElement(j.a,{name:"arrow circle right",size:"big"})))}}],a=this.props;a.clients;if(!a.auth.uid)return n.a.createElement(c.a,{to:"/signin"});var r=this.state,l=(r.isLoading,r.value,r.results,this.getSource());return n.a.createElement("div",{className:"dashboard container",style:{paddingTop:50}},n.a.createElement(O.a,{color:"green",onClick:this.handleCreate},n.a.createElement(j.a,{name:"add",size:"small"}),"Create a new Client"),n.a.createElement(O.a,{color:"green",onClick:this.handleView},n.a.createElement(j.a,{name:"users",size:"small"}),"View All Clients"),n.a.createElement("h1",null,"Search client"),0===l.length?n.a.createElement("h1",null,"loading"):n.a.createElement("form",{className:"white"},n.a.createElement("input",{type:"text",id:"searchbar",onChange:function(t){e.handleSearchChange(t)}}),n.a.createElement("div",{className:"input-field"},n.a.createElement("button",{className:"btn",onClick:function(t){e.handleSearch(t)}},"Search"))),this.state.result.length>0?n.a.createElement(N.a,{data:this.state.result,columns:t,defaultPageSize:20,className:"-striped -highlight",getTdProps:function(t,a,r,n){return"undefined"!==typeof a?{onClick:function(t,r){e.setState({selectedClientId:a.original.id,selectedClientFirstName:a.original.firstName,selectedClientLastName:a.original.lastName,selected:a.index}),r&&r()},style:{background:a.index===e.state.selected?"#80cbc4":"",color:a.index===e.state.selected?"white":"black"}}:{onClick:function(t,a){e.setState({selectedClientId:"",selectedClientFirstName:"",selectedClientLastName:"",selected:-1}),a&&a()},style:{background:"white",color:"black"}}}}):n.a.createElement("h1",null,"no result"))}}]),t}(r.Component)),Q=Object(C.d)(Object(o.b)((function(e){return{clients:e.firestore.ordered.clients,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"clients"}]))($),ee=function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement("h1",null,"404")}}]),t}(r.Component),te=Object(C.d)(Object(o.b)((function(e){return{clients:e.firestore.ordered.clients,auth:e.firebase.auth}})),Object(g.firestoreConnect)([{collection:"clients"}]))(ee);var ae=function(){return n.a.createElement(s.a,null,n.a.createElement("div",{className:"App",style:{backgroundImage:"linear-gradient(to bottom right, #ffffff, #bdbdbd)"}},n.a.createElement(u,null),n.a.createElement(c.d,null,n.a.createElement(c.b,{exact:!0,path:"/",component:Q}),n.a.createElement(c.a,{exact:!0,from:"/",to:"ClientTable"}),n.a.createElement(c.b,{exact:!0,path:"/client",component:S}),n.a.createElement(c.b,{exact:!0,path:"/client/:id/projects",component:w}),n.a.createElement(c.b,{path:"/editclient/:id",component:H}),n.a.createElement(c.b,{path:"/client/:client_id/editproject/:project_id",component:V}),n.a.createElement(c.b,{path:"/signin",component:I}),n.a.createElement(c.b,{path:"/signup",component:P}),n.a.createElement(c.b,{path:"/createclient",component:L}),n.a.createElement(c.b,{path:"/:id/createproject",component:T}),n.a.createElement(c.b,{path:"/client/:client_id/projects/:project_id/",component:Y}),n.a.createElement(c.b,{path:"/404",component:te}),n.a.createElement(c.a,{to:"/404"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re={projects:[]},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return console.log("created project",t.project),e;case"CREATE_PROJECT_ERROR":return console.log("created project error",t.err),e;default:return e}},le={clients:[]},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CLIENT":return console.log("created client",t.client),e;case"CREATE_CLIENT_ERROR":return console.log("created client error",t.err),e;case"UPDATE_CLIENT":return console.log("created client",t.client),e;case"UPDATE_CLIENT_ERROR":return console.log("created client error",t.err),e;default:return e}},se=a(97),ce={authError:null},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Object(se.a)({},e,{authError:"login failed"});case"LOGIN_SUCCESS":return console.log("login success"),Object(se.a)({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(se.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(se.a)({},e,{authError:t.err.message});default:return e}},de=a(76),me=Object(C.c)({auth:oe,project:ne,client:ie,firestore:de.firestoreReducer,firebase:g.firebaseReducer}),ue=a(273);a(1539),a(1542);y.a.initializeApp({apiKey:"AIzaSyDqYprWCKDtD0w8J0raT1uzNTxN357MNso",authDomain:"going-rogue.firebaseapp.com",databaseURL:"https://going-rogue.firebaseio.com",projectId:"going-rogue",storageBucket:"going-rogue.appspot.com",messagingSenderId:"702357719614",appId:"1:702357719614:web:bdcf4f560fac7dd4f99f6f",measurementId:"G-8KHEMR0XDC"});var he=y.a,pe=Object(C.e)(me,Object(C.d)(Object(C.a)(ue.a.withExtraArgument({getFirestore:de.getFirestore,getFirebase:g.getFirebase})),Object(de.reduxFirestore)(y.a,he))),Ee={firebase:y.a,config:{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0},dispatch:pe.dispatch,createFirestoreInstance:de.createFirestoreInstance};i.a.render(n.a.createElement(o.a,{store:pe},n.a.createElement(g.ReactReduxFirebaseProvider,Ee,n.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},284:function(e,t,a){e.exports=a(1544)},289:function(e,t,a){}},[[284,1,2]]]);
//# sourceMappingURL=main.3e2b9b20.chunk.js.map